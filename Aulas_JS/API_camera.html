<htm>
    <head>
        <meta charset="UTF-8">
        <title>APL CÃ¢mera</title>
    </head>
    <body>
        <video id="videoElement" width="400" height="300" autoplay></video>
        <button onclick="startCamera()">Abrir camera</button>
        <button onclick="stopCamera()">Fechar camera</button>

        <script>
            let videoStream;

            async function startCamera(){
                const videoElement = document.getElementById("videoElement");
                try{
                    videoStream = await navigator.mediaDevices.getUserMedia({video : true});
                    videoElement.srcObject = videoStream;
                }catch(error){
                    console.error("Erro ao abrir a camera!", erro);
                    alert("Erro ao abrir a camera!");
                }
            }

            async function stopCamera(){
                const videoElement = document.getElementById("videoElement");
                if(videoStream){
                    const tracks = videoStream.getTracks();
                    tracks.forEach(tracks => track.stop());
                        videoElement.srcObject = null;
                }
            }
        </script>
    </body>
</htm>